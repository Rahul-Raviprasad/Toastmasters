/*

*/

angular
  .module('app', ['app.clubs', 'app.profile', 'app.meeting']);

(function() {
  angular
    .module('app.clubsController', ['app.clubsService'])
    .controller('ClubsController', ClubsController);

  ClubsController.$inject = ['$scope', 'ClubService'];

  function ClubsController($scope, ClubService) {
    var vm = this;

    ClubService.getClubs()
      .then(function(response) {
        vm.clubs = response.clubs;
      });
  }
})();

angular
  .module('app.clubs', ['app.clubsController'])

angular
  .module('app.clubsService', [])
  .factory('ClubService', ClubService);

ClubService.$inject = ['$q'];

function ClubService($q) {
  var vm = this;

  vm.getClubs = getClubs;

  return vm;

  /////////----------------------------------------------

  function getClubs() {
    return $q.when({
      clubs: [
        {
          name: 'Hyderabad',
          description: "A cool place to hangout and learn"
        },
        {
          name: 'Data Science group',
          description: 'meet some of the most enthusiatic data scientist'
        },
        {
          name: 'Football group',
          description: 'play soccer and get some cardio done as well'
        }
      ]
    });
  }
}

(function() {
  angular
    .module('app.meetingsService', [])
    .factory('MeetingsService', MeetingsService);

  MeetingsService.$inject = ['$q'];

  function MeetingsService($q) {
    var vm = this;

    vm.getMeetings = getMeetings;

    return vm;

    //// -----------------------------

    function getMeetings(ClubName) {
      return $q.when([{
        name: 'Saturday meet',
        location: 'nalanada'
      },
      {
        name: 'Sunday meet',
        location: 'nalanada'
      }]);
    }
  }
})();

(function() {
  angular
    .module('app.meeting', ['app.meetingsController']);
})();

(function(){
  angular
    .module('app.meetingsController', ['app.meetingsService'])
    .controller('MeetingsController', MeetingsController);

  MeetingsController.$inject = ['MeetingsService'];

  function MeetingsController(MeetingsService) {
    var vm  = this;
    vm.name = "hi";
    MeetingsService.getMeetings('club1')
      .then(function(response) {
        vm.meetings = response;
      });




  }

})();

(function() {
  angular
    .module('app.profileController', ['app.profileService'])
    .controller('ProfileController', ProfileController);

  ProfileController.$inject = ['ProfileService'];
  function ProfileController(ProfileService) {
    var vm =  this;

    ProfileService.getProfile()
                  .then(function(response) {
                    vm.profile = response;
                  });
  }
})();

(function() {
  angular
    .module('app.profile', ['app.profileController'])
})();

(function() {
  angular
    .module('app.profileService', [])
    .factory('ProfileService', ProfileService);

  ProfileService.$inject = ['$q'];

  function ProfileService($q) {
    var vm =  this;

    vm.getProfile =  getProfile;

    return vm;

    // ---------------------------------------------------
    function getProfile() {
      return $q.when({
        firstName: 'Rahul',
        lastName: 'Raviprasad',
        roles: ['admin', 'member']
      });
    }
  }
})();
